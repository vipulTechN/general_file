

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Your Page Title</title>
    <link rel="stylesheet" href="/static/propApp/css/style.css">
    
</head>
<body>
    <header>
        <ul>
            <div class="navbar">
                <div class="navbar-brand">
                    Your Logo
                </div>
            </div>
            <a href="/property-list/"><li>PropertyList</li></a>
            
                <p>Welcome, 6264159415!</p>
                <a href="/select-type/"><button>Post_Property_new</button></a>
                <a href="/dashboard/"></a>
                <a href="/logout/"><button>Logout</button></a>
            
        </ul>
        <!-- Your navbar structure -->
    </header>
    <!-- Content block where child templates will be inserted -->
    <div class="content">
        

<form method="post" enctype="multipart/form-data">
    <input type="hidden" name="csrfmiddlewaretoken" value="5iRLZ370LGeALNqssX2EjUoyp1KcrN9vYDaIDlqdE0vyu6dY2H3y3hT5ILfDL3bg">
    
    <p><label for="id_u_property_type_0">U property type:</label> <ul id="id_u_property_type">
    <li><label for="id_u_property_type_0"><input type="radio" name="u_property_type" value="" required id="id_u_property_type_0" checked>
 ---------</label>

</li>
    <li><label for="id_u_property_type_1"><input type="radio" name="u_property_type" value="owner" required id="id_u_property_type_1">
 Owner</label>

</li>
    <li><label for="id_u_property_type_2"><input type="radio" name="u_property_type" value="agent" required id="id_u_property_type_2">
 Agent</label>

</li>
    <li><label for="id_u_property_type_3"><input type="radio" name="u_property_type" value="builder" required id="id_u_property_type_3">
 Builder</label>

</li>
</ul></p>
<p><label for="id_r_property_type">R property type:</label> <select name="r_property_type" id="id_r_property_type">
  <option value="pg" selected>PG</option>

</select></p>
<p><label for="id_pg_property_name">Pg property name:</label> <input type="text" name="pg_property_name" maxlength="100" required id="id_pg_property_name"></p>
<p><label for="id_project_cover_img">Project cover img:</label> <input type="file" name="project_cover_img" accept="image/*" id="id_project_cover_img"></p>
<p><label for="id_min_price">Min price:</label> <input type="number" name="min_price" value="0" required id="id_min_price"></p>
<p><label for="id_max_price">Max price:</label> <input type="number" name="max_price" value="0" required id="id_max_price"></p>
<p><label for="id_maintenance_cost">Maintenance cost:</label> <input type="number" name="maintenance_cost" value="0" step="0.01" required id="id_maintenance_cost"></p>
<p><label for="id_has_wifi">Has wifi:</label> <input type="checkbox" name="has_wifi" id="id_has_wifi"></p>
<p><label for="id_has_gym">Has gym:</label> <input type="checkbox" name="has_gym" id="id_has_gym"></p>
<p><label for="id_has_parking">Has parking:</label> <input type="checkbox" name="has_parking" id="id_has_parking"></p>
<p><label for="id_has_security">Has security:</label> <input type="checkbox" name="has_security" id="id_has_security"></p>
<p><label for="id_has_refrigerator">Has refrigerator:</label> <input type="checkbox" name="has_refrigerator" id="id_has_refrigerator"></p>
<p><label for="id_has_washingmachine">Has washingmachine:</label> <input type="checkbox" name="has_washingmachine" id="id_has_washingmachine"></p>
<p><label for="id_has_powerbackup">Has powerbackup:</label> <input type="checkbox" name="has_powerbackup" id="id_has_powerbackup"></p>
<p><label for="id_has_water">Has water:</label> <input type="checkbox" name="has_water" id="id_has_water"></p>
<p><label for="id_has_electricity">Has electricity:</label> <input type="checkbox" name="has_electricity" id="id_has_electricity"></p>
<p><label for="id_project_city">Project city:</label> <select name="project_city" id="id_project_city">
  <option value="bengaluru">Bengaluru</option>

  <option value="chennai">Chennai</option>

  <option value="mumbai">Mumbai</option>

  <option value="hyderabad">Hyderabad</option>

  <option value="delhi">Delhi</option>

  <option value="pune">Pune</option>

  <option value="allindia" selected>All India</option>

</select></p>
<p><label for="id_available_from">Available from:</label> <select name="available_from" id="id_available_from">
  <option value="immediate" selected>Immediate</option>

  <option value="within15days">With In 15 Days</option>

  <option value="within1month">With In 1 Month</option>

  <option value="morethan1month">More Than 1 Month</option>

</select></p>
<p><label for="id_floor_number">Floor number:</label> <input type="number" name="floor_number" value="0" min="0" required id="id_floor_number"></p>
<p><label for="id_security_deposit">Security deposit:</label> <input type="number" name="security_deposit" value="0" step="0.01" required id="id_security_deposit"></p>
<p><label for="id_discription">Discription:</label> <textarea name="discription" cols="40" rows="10" required id="id_discription">
Dicription Will be here</textarea></p>
<p><label for="id_address">Address:</label> <input type="text" name="address" maxlength="255" required id="id_address"></p>
<p><label for="id_landmark">Landmark:</label> <input type="text" name="landmark" maxlength="100" required id="id_landmark"></p>
<p><label for="id_food_availability">Food availability:</label> <select name="food_availability" id="id_food_availability">
  <option value="veg" selected>Veg</option>

  <option value="veg/non-veg">Veg/Non-Veg</option>

  <option value="none">None</option>

</select></p>
<p><label for="id_pg_for">Pg for:</label> <select name="pg_for" required id="id_pg_for">
  <option value="" selected>---------</option>

  <option value="girls">Girls</option>

  <option value="boys">Boys</option>

  <option value="colive">Co-live</option>

</select></p>
<p><label for="id_sharing_type">Sharing type:</label> <select name="sharing_type" required id="id_sharing_type">
  <option value="" selected>---------</option>

  <option value="1">1</option>

  <option value="2">2</option>

  <option value="3">3</option>

  <option value="4">4</option>

  <option value="5">5</option>

  <option value="0">All</option>

</select></p>
<p><label for="id_lifts">Lifts:</label> <select name="lifts" required id="id_lifts">
  <option value="" selected>---------</option>

  <option value="yes">YES</option>

  <option value="no">NO</option>

</select></p>
<p><label for="id_ac_rooms">Ac rooms:</label> <select name="ac_rooms" required id="id_ac_rooms">
  <option value="" selected>---------</option>

  <option value="yes">YES</option>

  <option value="no">NO</option>

</select></p>
<p><label for="id_amenities">Amenities:</label> <input type="text" name="amenities" maxlength="300" id="id_amenities"></p>
    
    <div id="image-fields-container">
        <!-- Render formset forms -->
        <input type="hidden" name="images-TOTAL_FORMS" value="5" id="id_images-TOTAL_FORMS"><input type="hidden" name="images-INITIAL_FORMS" value="0" id="id_images-INITIAL_FORMS"><input type="hidden" name="images-MIN_NUM_FORMS" value="0" id="id_images-MIN_NUM_FORMS"><input type="hidden" name="images-MAX_NUM_FORMS" value="5" id="id_images-MAX_NUM_FORMS">
        
            <div class="image-field">
                <p><label for="id_images-0-image">Image:</label> <input type="file" name="images-0-image" accept="image/*" id="id_images-0-image"></p>
<p><label for="id_images-0-image_type">Image type:</label> <select name="images-0-image_type" id="id_images-0-image_type">
  <option value="image_1">Image 1</option>

  <option value="image_2">Image 2</option>

  <option value="image_3">Image 3</option>

  <option value="image_4">Image 4</option>

  <option value="image_5">Image 5</option>

</select></p>
<p><label for="id_images-0-DELETE">Delete:</label> <input type="checkbox" name="images-0-DELETE" id="id_images-0-DELETE"><input type="hidden" name="images-0-id" id="id_images-0-id"><input type="hidden" name="images-0-property_pg" id="id_images-0-property_pg"></p>
            </div>
        
            <div class="image-field">
                <p><label for="id_images-1-image">Image:</label> <input type="file" name="images-1-image" accept="image/*" id="id_images-1-image"></p>
<p><label for="id_images-1-image_type">Image type:</label> <select name="images-1-image_type" id="id_images-1-image_type">
  <option value="image_1">Image 1</option>

  <option value="image_2">Image 2</option>

  <option value="image_3">Image 3</option>

  <option value="image_4">Image 4</option>

  <option value="image_5">Image 5</option>

</select></p>
<p><label for="id_images-1-DELETE">Delete:</label> <input type="checkbox" name="images-1-DELETE" id="id_images-1-DELETE"><input type="hidden" name="images-1-id" id="id_images-1-id"><input type="hidden" name="images-1-property_pg" id="id_images-1-property_pg"></p>
            </div>
        
            <div class="image-field">
                <p><label for="id_images-2-image">Image:</label> <input type="file" name="images-2-image" accept="image/*" id="id_images-2-image"></p>
<p><label for="id_images-2-image_type">Image type:</label> <select name="images-2-image_type" id="id_images-2-image_type">
  <option value="image_1">Image 1</option>

  <option value="image_2">Image 2</option>

  <option value="image_3">Image 3</option>

  <option value="image_4">Image 4</option>

  <option value="image_5">Image 5</option>

</select></p>
<p><label for="id_images-2-DELETE">Delete:</label> <input type="checkbox" name="images-2-DELETE" id="id_images-2-DELETE"><input type="hidden" name="images-2-id" id="id_images-2-id"><input type="hidden" name="images-2-property_pg" id="id_images-2-property_pg"></p>
            </div>
        
            <div class="image-field">
                <p><label for="id_images-3-image">Image:</label> <input type="file" name="images-3-image" accept="image/*" id="id_images-3-image"></p>
<p><label for="id_images-3-image_type">Image type:</label> <select name="images-3-image_type" id="id_images-3-image_type">
  <option value="image_1">Image 1</option>

  <option value="image_2">Image 2</option>

  <option value="image_3">Image 3</option>

  <option value="image_4">Image 4</option>

  <option value="image_5">Image 5</option>

</select></p>
<p><label for="id_images-3-DELETE">Delete:</label> <input type="checkbox" name="images-3-DELETE" id="id_images-3-DELETE"><input type="hidden" name="images-3-id" id="id_images-3-id"><input type="hidden" name="images-3-property_pg" id="id_images-3-property_pg"></p>
            </div>
        
            <div class="image-field">
                <p><label for="id_images-4-image">Image:</label> <input type="file" name="images-4-image" accept="image/*" id="id_images-4-image"></p>
<p><label for="id_images-4-image_type">Image type:</label> <select name="images-4-image_type" id="id_images-4-image_type">
  <option value="image_1">Image 1</option>

  <option value="image_2">Image 2</option>

  <option value="image_3">Image 3</option>

  <option value="image_4">Image 4</option>

  <option value="image_5">Image 5</option>

</select></p>
<p><label for="id_images-4-DELETE">Delete:</label> <input type="checkbox" name="images-4-DELETE" id="id_images-4-DELETE"><input type="hidden" name="images-4-id" id="id_images-4-id"><input type="hidden" name="images-4-property_pg" id="id_images-4-property_pg"></p>
            </div>
        
    </div>
    
    <button type="button" id="add-image-field">Add Image</button>
    <button type="submit">Submit Property</button>
</form>

<!-- Add jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
    $(document).ready(function() {
        const container = $('#image-fields-container');
        const maxForms = 5; // Maximum total forms allowed

        // Hide forms beyond the second one initially
        container.find('.image-field:gt(1)').hide();

        $('#add-image-field').click(function() {
            const formCount = container.find('.image-field:visible').length;

            if (formCount < maxForms) { // Limit to maximum total forms
                const totalForms = $('#id_propertyimage_set-TOTAL_FORMS');
                const newForm = container.find('.image-field:hidden:first').clone(true);

                // Update form IDs, names, and reset input values
                const formIndex = formCount; // Start indexing from formCount
                newForm.find('input[type="file"]').attr({
                    'id': `id_images-${formIndex}-image`,
                    'name': `images-${formIndex}-image`
                }).val('');
                newForm.find('select').attr({
                    'id': `id_images-${formIndex}-image_type`,
                    'name': `images-${formIndex}-image_type`
                }).val(newForm.find('select option:first').val());
                newForm.find('input[type="checkbox"]').attr({
                    'id': `id_images-${formIndex}-DELETE`,
                    'name': `images-${formIndex}-DELETE`
                }).prop('checked', false);
                newForm.find('input[type="hidden"]').attr('id', `id_images-${formIndex}-id`).val('');
                newForm.find('input[type="hidden"]').attr('id', `id_images-${formIndex}-property_post`).val('');

                // Append new form and update total forms count
                container.append(newForm);
                totalForms.val(formCount + 1);

                newForm.show(); // Show the newly added form

                if (formCount + 1 === maxForms) {
                    $('#add-image-field').hide();
                }
            } else {
                alert('You can upload a maximum of 5 images.');
            }
        });
    });
</script>


    </div>

    <!-- Include common footer content here, if needed -->
    <footer>
        <p>Footer</p>
    </footer>

</body>
</html>