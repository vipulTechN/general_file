<!-- edit_property.html -->
<!DOCTYPE html>
<html>
<head>
    <title>Edit Property</title>
    <!-- Add necessary CSS stylesheets or link to your CSS file -->
    <!-- ... -->
</head>
<body>

<!-- Your form for editing property -->
<form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <div>
        <!-- Display existing images -->
        {% for image in property.gallery_images.all %}
            <div class="field" id="imgfields">
                <div class="label">
                    Image No.{{ forloop.counter }}
                </div>
                <ul class="imgno1">
                    <li class="img01flex1">
                        <select name="images-{{ forloop.counter0 }}-image_type" id="id_images-{{ forloop.counter0 }}-image_type">
                            <!-- Options for image types -->
                            <!-- Example: Living Room -->
                            <option value="living_room" {% if image.image_type == 'living_room' %} selected {% endif %}>Living Room</option>
                            <!-- Add options for other image types -->
                        </select>
                        <input type="file" name="images-{{ forloop.counter0 }}-image" accept="image/*" id="id_images-{{ forloop.counter0 }}-image">
                    </li>
                    <li class="img01flex2">
                        <label for="id_images-{{ forloop.counter0 }}-DELETE">Delete:</label>
                        <input type="checkbox" name="images-{{ forloop.counter0 }}-DELETE" id="id_images-{{ forloop.counter0 }}-DELETE">
                        <input type="hidden" name="images-{{ forloop.counter0 }}-id" value="{{ image.id }}">
                        <!-- You might need to include a hidden input for the image ID -->
                        <input type="hidden" name="images-{{ forloop.counter0 }}-property_rental" value="{{ property.id }}">
                        <!-- You may need to adjust this hidden input to match your model structure -->
                    </li>
                </ul>
            </div>
        {% endfor %}
        
        <!-- Allow user to add new images -->
        <!-- Add fields for new images, similar to the existing images -->
        <!-- ... -->
        
        <input type="submit" value="Update Property">
    </div>
</form>

</body>
</html>
