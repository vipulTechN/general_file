    <div class="col-lg-6">
        <label for="year_select">Select Year:</label>
        <select id="year_select">
        </select>
        <div class="chartcmmnstyle" id="barchart_material"></div>
        <script>
          function populateYearDropdown() {
            var yearSelect = document.getElementById('year_select');
            var currentYear = new Date().getFullYear();
            var startYear = 2022;
            yearSelect.innerHTML = '';
            for (var year = startYear; year <= currentYear; year++) {
              var option = document.createElement('option');
              option.value = year;
              option.text = year;
              yearSelect.appendChild(option);
            }
          }
          populateYearDropdown();
        </script>
      </div>

var piechartdata = [
  ['Year', 'Received', 'Processing', 'Cancel'],
  ['2022', 500, 300, 200],
  ['2023', 900, 200, 400],
  ['2024', 1100, 600, 300]
];

function drawChart() {
  var dataTable = google.visualization.arrayToDataTable(piechartdata);

  var options = {
      title: 'Sales Status by Year',
      is3D: true,
      legend: { position:'bottom'}
  };

  var chart = new google.visualization.PieChart(document.getElementById('barchart_material'));

  function updateChart(year) {
      var filteredData = piechartdata.filter(function(row){
          return row[0] === year;
      });

      var rowData = filteredData.map(function(row) { return row.slice(1); })[0];

      dataTable = google.visualization.arrayToDataTable([
          ['Status', 'Count'],
          ['Received', rowData[0]],
          ['Processing', rowData[1]],
          ['Cancel', rowData[2]]
      ]);

      chart.draw(dataTable, options);
  }

  function setDefaultYear() {
      var currentYear = new Date().getFullYear().toString();
      var yearSelect = document.getElementById('year_select');
      var found = false;

      for (var i = 0; i < yearSelect.options.length; i++) {
          if (yearSelect.options[i].value === currentYear) {
              yearSelect.selectedIndex = i;
              found = true;
              break;
          }
      }

      if (!found) {
          yearSelect.selectedIndex = 0;
      }

      updateChart(currentYear);
  }

  setDefaultYear();
  document.getElementById('year_select').addEventListener('change', function() {
      var selectedYear = this.value;
      updateChart(selectedYear);
  });
}