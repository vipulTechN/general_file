{%extends "base(Home).html"%}
{% load static %}
{% block head_block %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sell newsubmit</title>
    <!-- <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}"> -->
    <link rel="stylesheet" href="https://static.searchhomesindia.com/css/newsubmit.css">
    <!-- <link rel="stylesheet" href="{% static 'css/style.css' %}"> -->
    <style>
        #header {
            background-color: #1B6C9F !important;
            position: fixed;
            top: 0px;
        }
        .hidden { 
            display: none;
         }
        @media (min-width: 1200px) {
            .srpcontain {
                max-width: 100% !important;
            }
        }
        .locationinput img{
            width: 100px;
            height: 100px;
            border-radius: 5px;
        }
        /* Container for the entire form */
#property-edit-container {
    max-width: 800px;
    margin: auto;
    padding: 20px;
    background-color: #fff;
    border-radius: 10px;
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
}

/* Container for the image field */
.property-image-field {
    margin-top: 20px;
    border: 1px solid #ddd;
    padding: 15px;
    border-radius: 10px;
    background-color: #f9f9f9;
    transition: background-color 0.3s ease-in-out;
}

/* Change background color on hover */
.property-image-field:hover {
    background-color: #f1f1f1;
}

/* Label for the image */
.property-image-label {
    font-size: 18px;
    font-weight: bold;
    margin-bottom: 10px;
    color: #333;
}

/* Container for the image and input fields */
.property-locationinput {
    display: flex;
    flex-direction: row;
    align-items: center;
}
/* Styling for inputs */
.property-inputs input[type="file"],
.property-inputs input[type="text"],
.property-inputs select {
    width: 40%;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    font-size: 14px;
    margin-top: 5px;
    transition: border-color 0.3s ease-in-out;
}
/* Responsive layout */
@media (max-width: 768px) {
    .property-locationinput {
        flex-direction: column;
        align-items: flex-start;
    }
    /* Styling for inputs */
.property-inputs input[type="file"],
.property-inputs input[type="text"],
.property-inputs select {
    width: 100%;
    }
}

/* Image display */
.property-image-display img {
    width: 100px;
    height: auto;
    border: 1px solid #ddd;
    border-radius: 5px;
    margin-right: 20px;
    object-fit: cover;
}

/* Input focus styles */
.property-inputs input:focus,
.property-inputs select:focus {
    border-color: #007bff;
    outline: none;
}

/* Styling for the add image button */
#property-add-image-button {
    display: inline-block;
    margin-top: 20px;
    padding: 10px 20px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    transition: background-color 0.3s ease-in-out;
}

#property-add-image-button:hover {
    background-color: #0056b3;
}

/* Hide the forms for additional images initially */
.property-image-field.hidden {
    display: none;
}

/* Button for delete action */
.property-delete-label {
    display: inline-block;
    margin-top: 10px;
    padding: 5px 10px;
    background-color: #dc3545;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 14px;
    transition: background-color 0.3s ease-in-out;
}

.property-delete-label:hover {
    background-color: #c82333;
}

/* General text input styles */
/* .property-inputs {
    width: 100%;
} */
.property-inputs a{word-break: break-all;}
/* Container for the entire cover image section */
.cover-image-contentwrap {
    max-width: 800px;
    margin: auto;
    padding: 20px;
    background-color: #fff;
    border-radius: 10px;
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
    margin-top: 20px;
    border: 1px solid #ddd;
    margin-bottom: 5%;
}

/* Label for the cover image */
.cover-image-contentwrap .cover-image-label {
    font-size: 18px;
    font-weight: bold;
    margin-bottom: 10px;
    color: #333;
}

/* Container for the image and input fields */
.cover-image-contentwrap .cover-image-locationinput {
    display: flex;
    flex-direction: row;
    align-items: center;
}

/* Responsive layout */
@media (max-width: 768px) {
    .cover-image-contentwrap .cover-image-locationinput {
        flex-direction: column;
        align-items: flex-start;
    }
}

/* Image display */
.cover-image-contentwrap .cover-image-img {
    width: 100px;
    height: auto;
    border: 1px solid #ddd;
    border-radius: 5px;
    margin-right: 20px;
    object-fit: cover;
}

/* Styling for the message when no image is available */
.cover-image-contentwrap .cover-image-placeholder {
    display: block;
    font-size: 14px;
    color: #666;
    margin-right: 20px;
}

/* Styling for file input */
.cover-image-contentwrap .cover-image-input {
    width: 100%; /* 100% width for responsiveness */
    max-width: 100%; /* Ensuring it doesn't overflow the container */
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    font-size: 14px;
    margin-top: 5px;
    transition: border-color 0.3s ease-in-out;
}

/* Input focus styles */
.cover-image-contentwrap .cover-image-input:focus {
    border-color: #007bff;
    outline: none;
}
    </style>
{% endblock %}
{%block body_block%}
    <div class="submitdetailwrap">
        <div class="container srpcontain">
            <div class="row">
                <div class="col-lg-7" id="leftsubmit-dets">
                    <form method="post" enctype="multipart/form-data" id="submit_propertyid">
                        {% csrf_token %}

                        <!-- detail section -->
                        <div class="datablock">

                            <div class="sub-heading-submit" style="margin-top: 0px;">
                                <h5> Property details </h5>
                            </div>
                            <div class="fielddets">
                                <div class="label labelselect">
                                    I am <span class="req">*</span>
                                </div>
                                <ul>
                                    <li>
                                        <input type="radio" name="u_property_type" value="owner" required id="id_u_property_type_1"
                                        class="iamradio"  {% if property.u_property_type == 'owner' %} checked {% endif %}>
                                        <label for="id_u_property_type_1"> Owner</label>
                                    </li>
                                    <li>
                                        <input type="radio" name="u_property_type" value="agent" required id="id_u_property_type_2"
                                        class="iamradio" {% if property.u_property_type == 'agent' %} checked {% endif %}>
                                        <label for="id_u_property_type_2" id="fielabs">Agent</label>
                                    </li>
                                    <li>
                                        <input type="radio" name="u_property_type" value="builder" required id="id_u_property_type_3"
                                        class="iamradio" {% if property.u_property_type == 'builder' %} checked {% endif %}>
                                        <label for="id_u_property_type_3" id="fielabs">Builder</label>
                                    </li>
                                </ul>
                            </div>

                            <div class="fielddets">
                                <div class="label labelselect">
                                    Here To<span class="req">*</span>
                                </div>
                                <ul>
                                    <li>
                                        <input type="radio" name="hereto" value="sell" class="iamradio"
                                        style="cursor: no-drop;" disabled>
                                        <label for="sell">Sell</label>
                                    </li>
                                    <li>
                                        <input type="radio" name="hereto" value="Rent/Lease" class="iamradio"
                                        style="cursor: no-drop;" disabled>
                                        <label for="Rent/Lease" id="fielabs">Rent/Lease</label>
                                    </li>
                                    <li>
                                        <input type="radio" name="hereto" value="Pg/Colive" required class="iamradio"
                                        checked>
                                        <label for="Pg/Colive" id="fielabs">Pg/Co-live</label>
                                    </li>
                                </ul>
                            </div>

                            <div class="fielddets-type">
                                <div class="label">
                                    Property Type <span class="req">*</span>
                                </div>
                                <div class="formCom">
                                    <select name="apartment_type"  onkeyup="showHideFields(this.value)" required id="id_apartment_type" class="cidrop-input">
                                        <option value="" {% if property.apartment_type == '' %} selected {% endif %}> Select Type</option>

                                        <option value="villa" {% if property.apartment_type == 'villa' %} selected {% endif %}>Villa</option>
            
                                        <option value="plot" {% if property.apartment_type == 'plot' %} selected {% endif %}>Plot</option>
            
                                        <option value="apartment" {% if property.apartment_type == 'apartment' %} selected {% endif %}>apartment</option>
            
                                    </select>
                                </div>
                            </div>

                        </div>

                        <!-- location section  -->
                        <div class="datablock">
                            <div class="sub-heading-submit">
                                <h5> Property Location </h5>
                            </div>

                            <div class="contentwrap">
                                <div class="label">
                                    City <span class="req">*</span>
                                </div>
                                <div class="cityinput">
                                    <select name="project_city" id="id_project_city" class="cidrop-input" required>

                                        <option value="" {% if property.project_city == '' %} selected {% endif %}>Select City</option>

                                        <option value="bengaluru" {% if property.project_city == 'bengaluru' %} selected {% endif %}>Bengaluru</option>

                                        <option value="chennai" {% if property.project_city == 'chennai' %} selected {% endif %}>Chennai</option>

                                        <option value="mumbai" {% if property.project_city == 'mumbai' %} selected {% endif %}>Mumbai</option>

                                        <option value="hyderabad" {% if property.project_city == 'hyderabad' %} selected {% endif %}>Hyderabad</option>

                                        <option value="delhi" {% if property.project_city == 'delhi' %} selected {% endif %}>Delhi</option>

                                        <option value="pune" {% if property.project_city == 'pune' %} selected {% endif %}>Pune</option>

                                    </select>
                                </div>
                            </div>

                            <div class="contentwrap">
                                <div class="label">
                                    Locality <span class="req">*</span>
                                </div>
                                <div class="locationinput">
                                        <input type="text" placeholder="Enter Locality" name="landmark" maxlength="100" required
                                        id="id_landmark"  value="{{ property.landmark }}" class="cidrop-input">
                                </div>
                            </div>

                            <div class="contentwrap">
                                <div class="label">
                                    Name of Project/Society <span class="req">*</span>
                                </div>
                                <div class="locationinput">
                                        <input type="text" placeholder="Society name" name="project_society_name" maxlength="100"
                                        required id="id_project_society_name" value="{{ property.project_society_name }}" class="cidrop-input">
                                </div>
                            </div>
                        </div>

                        <div id="hiddendatablockkkkk">

                            <!-- property features -->
                            <div class="datablock">
                                <div class="sub-heading-submit">
                                    <h5> Property Features </h5>
                                </div>
                                <div class="row">
                                    <div class="col-lg-6 apartment villa">
                                        <div class="contentwrap">
                                            <div class="label">
                                                Apartment Type <span class="req">*</span>
                                            </div>
                                            
                                            <div class="locationinput">
                                                <select name="apartment_type_bhk" id="id_apartment_type_bhk" class="cidrop-input" required>

                                                    <option value="" {% if property.bedrooms == '' %} selected {% endif %}>Select Bedrooms</option>

                                                    <option value="1bhk" {% if property.bedrooms == '1' %} selected {% endif %}>1 BHK</option>

                                                    <option value="2bhk" {% if property.bedrooms == '2' %} selected {% endif %}>2 BHK</option>

                                                    <option value="3bhk" {% if property.bedrooms == '3' %} selected {% endif %}>3 BHK</option>

                                                    <option value="4bhk" {% if property.bedrooms == '4' %} selected {% endif %}>4 BHK</option>

                                                    <option value="5bhk" {% if property.bedrooms == '5' %} selected {% endif %}>5 BHK</option>

                                                    <option value="0" {% if property.bedrooms == '0' %} selected {% endif %}>Others</option>

                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-6 apartment villa plot">
                                        <div class="contentwrap">
                                            <div class="label apartment villa">
                                                Bedrooms <span class="req">*</span>
                                            </div>
                                            <div class="label plot">
                                                No. of Sides  <span class="req">*</span>
                                            </div>
                                            <div class="locationinput">
                                                <select name="bedrooms" id="id_bedrooms" class="cidrop-input" required>
                                                    <option value="" {% if property.bedrooms == '' %} selected {% endif %}>Select Bedrooms</option>

                                                    <option value="1" {% if property.bedrooms == '1' %} selected {% endif %}>1</option>

                                                    <option value="2" {% if property.bedrooms == '2' %} selected {% endif %}>2</option>

                                                    <option value="3" {% if property.bedrooms == '3' %} selected {% endif %}>3</option>

                                                    <option value="4" {% if property.bedrooms == '4' %} selected {% endif %}>4</option>

                                                    <option value="5" {% if property.bedrooms == '5' %} selected {% endif %}>5</option>

                                                    <option value="0" {% if property.bedrooms == '0' %} selected {% endif %}>Others</option>

                                                    <option value="-1" {% if property.bedrooms == '-1' %} selected {% endif %}>N/A</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-6 apartment villa">
                                        <div class="contentwrap">
                                            <div class="label">
                                                Balconies <span class="req">*</span>
                                            </div>
                                            <div class="locationinput">
                                                <select name="balconies" id="id_balconies" class="cidrop-input" required>
                                                    <option value="" {% if property.balconies == '' %} selected {% endif %}>Select Balconies</option>

                                                    <option value="1" {% if property.balconies == '1' %} selected {% endif %}>1</option>

                                                    <option value="2" {% if property.balconies == '2' %} selected {% endif %}>2</option>

                                                    <option value="3" {% if property.balconies == '3' %} selected {% endif %}>3</option>

                                                    <option value="4" {% if property.balconies == '4' %} selected {% endif %}>4</option>

                                                    <option value="5" {% if property.balconies == '5' %} selected {% endif %}>5</option>

                                                    <option value="0" {% if property.balconies == '0' %} selected {% endif %}>Others</option>

                                                    <option value="-1" {% if property.balconies == '-1' %} selected {% endif %}>N/A</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-6 apartment villa">
                                        <div class="contentwrap">
                                            <div class="label">
                                                Bathrooms <span class="req">*</span>
                                            </div>
                                            <div class="locationinput">
                                                <select name="bathrooms" id="id_bathrooms" class="cidrop-input" required>
                                                    <option value="" {% if property.bathrooms == '' %} selected {% endif %}>Select Bathrooms</option>

                                                    <option value="1" {% if property.bathrooms == '1' %} selected {% endif %}>1</option>

                                                    <option value="2" {% if property.bathrooms == '2' %} selected {% endif %}>2</option>

                                                    <option value="3" {% if property.bathrooms == '3' %} selected {% endif %}>3</option>

                                                    <option value="4" {% if property.bathrooms == '4' %} selected {% endif %}>4</option>

                                                    <option value="5" {% if property.bathrooms == '5' %} selected {% endif %}>5</option>

                                                    <option value="0" {% if property.bathrooms == '0' %} selected {% endif %}>Others</option>

                                                    <option value="-1" {% if property.bathrooms == '-1' %} selected {% endif %}>N/A</option>

                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-6 apartment villa">
                                        <div class="contentwrap">
                                            <div class="label">
                                                Total Floor
                                            </div>
                                            <div class="locationinput">
                                                <input type="number" placeholder="Total floors" name="total_floors" min="0" 
                                                 id="id_total_floors" value="{{ property.total_floors }}" required class="cidrop-input">
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-6 apartment plot">
                                        <div class="contentwrap">
                                            <div class="label apartment">
                                                Lifts <span class="req">*</span>
                                            </div>
                                            <div class="label plot">
                                                Is in a gated colony <span class="req">*</span>
                                            </div>
                                            <div class="locationinput">
                                                <select name="lifts" id="id_lifts" class="cidrop-input" required>
                                                    <option value="" {% if property.lifts == '' %} selected {% endif %}>Select</option>

                                                    <option value="yes" {% if property.lifts == 'yes' %} selected {% endif %}>YES</option>

                                                    <option value="no" {% if property.lifts == 'no' %} selected {% endif %}>No</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-6 apartment">
                                        <div class="contentwrap">
                                            <div class="label">
                                                Floor No. <span class="req">*</span>
                                            </div>
                                            <div class="locationinput">
                                                <input type="number" placeholder="Floor Number" name="floor_number" min="0" required
                                                id="id_floor_number" value="{{ property.floor_number }}" class="cidrop-input">
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-6 apartment villa plot">
                                        <div class="contentwrap">
                                            <div class="label">
                                                Total Units <span class="req">*</span>
                                            </div>
                                            <div class="locationinput">
                                                <input type="number" placeholder="Total units" name="total_units" min="0" 
                                                 id="id_total_units" value="{{ property.total_units }}" required class="cidrop-input">
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-6 apartment villa">
                                        <div class="contentwrap">
                                            <div class="label">
                                                Furnished Status <span class="req">*</span>
                                            </div>
                                            <div class="locationinput">
                                                <select name="furnished_status" required id="id_furnished_status"
                                                    class="cidrop-input">
                                                    <option value="" {% if property.furnished_status == '' %} selected {% endif %}>Select Status</option>

                                                    <option value="furnished" {% if property.furnished_status == 'furnished' %} selected {% endif %}>Furnished</option>
                        
                                                    <option value="semi-furnished" {% if property.furnished_status == 'semi-furnished' %} selected {% endif %}>Semi-Furnished</option>
                        
                                                    <option value="unfurnished" {% if property.furnished_status == 'unfurnished' %} selected {% endif %}>Unfurnished</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-6 apartment villa plot">
                                        <div class="contentwrap">
                                            <div class="label">
                                                Facing
                                            </div>
                                            <div class="locationinput">
                                                <select name="facing" id="id_facing" class="cidrop-input">
                                                    <option value="North" {% if property.facing == 'North' %} selected {% endif %}>North</option>
                                                    <option value="East" {% if property.facing == 'East' %} selected {% endif %}>East</option>
                                                    <option value="South" {% if property.facing == 'South' %} selected {% endif %}>South</option>
                                                    <option value="West" {% if property.facing == 'West' %} selected {% endif %}>West</option>
                                                    <option value="North East" {% if property.facing == 'North East' %} selected {% endif %}>NorthEast</option>
                                                    <option value="South East" {% if property.facing == 'South East' %} selected {% endif %}>SouthEast</option>
                                                    <option value="North West" {% if property.facing == 'North West' %} selected {% endif %}>NorthWest</option>
                                                    <option value="South West" {% if property.facing == 'South West' %} selected {% endif %}>SouthWest</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-6 apartment plot">
                                        <div class="contentwrap">
                                            <div class="label apartment">
                                                No. of Towers
                                            </div>
                                            <div class="label plot">
                                                Width of road facing the plot (in mtr) <span class="req">*</span>
                                            </div>
                                            <div class="locationinput">
                                                <input type="number" placeholder="No of Towers" name="no_of_tower"
                                                    min="0" id="id_no_of_tower" class= "cidrop-input" value="{{ property.no_of_tower }}">
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-6 apartment villa plot">
                                        <div class="contentwrap ">
                                            <div class="label apartment villa">
                                                Parking <span class="req">*</span>
                                            </div>
                                            <div class="label plot">
                                                Corner Plot <span class="req">*</span>
                                            </div>
                                            <div class="locationinput">
                                                <select name="car_parking" required id="id_car_parking"
                                                    class="cidrop-input">
                                                    <option value="" {% if property.car_parking == '' %} selected {% endif %}>Select Type</option>

                                                    <option value="yes" {% if property.car_parking == 'yes' %} selected {% endif %}>YES</option>

                                                    <option value="no" {% if property.car_parking == 'no' %} selected {% endif %}>No</option>

                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-6 apartment villa plot">
                                        <div class="contentwrap">
                                            <div class="label">
                                                Status Type <span class="req">*</span>
                                            </div>
                                            <div class="locationinput">
                                                <select name="status" required id="id_status" class="cidrop-input">
                                                    <option value="" {% if property.status == '' %} selected {% endif %}> Select Status</option>

                                                    <option value="ongoing" {% if property.status == 'ongoing' %} selected {% endif %}>Ongoing</option>
                        
                                                    <option value="readytomove" {% if property.status == 'readytomove' %} selected {% endif %}>Ready To Move</option>
                        
                                                    <option value="upcoming" {% if property.status == 'upcoming' %} selected {% endif %}>UpComing</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>

                            <!-- area section  -->
                            <div class="datablock">
                                <div class="sub-heading-submit">
                                    <h5> Area </h5>
                                </div>

                                <div class="contentwrap apartment plot villa">
                                    <div class="label apartment villa">
                                        Carpet Area <span class="req">*</span>
                                    </div>
                                    <div class="label plot">
                                        Plot Size <span class="req">*</span>
                                    </div>
                                    <div class="cityinput carpetAreaType shortinputbar">
                                     <b> Previous size-</b>  <input type="text" id="id_carpet_area" class="cidrop-input" name="carpet_area" value="{{ property.carpet_area }}" readonly style="border-bottom:none;"> <br>
                                        <input type="number" placeholder="Carpet area"  step="0.01" id="my_carpet_area" class="cidrop-input">
                                        <select id="carpetAreaType" class="cidrop-input">
                                            <option value="Sq-ft">Sq-ft</option>
                                            <option value="Sq-yrd">Sq-yrd</option>
                                            <option value="Sq-m">Sq-m</option>
                                            <option value="Acre">Acre</option>
                                            <option value="Bigha">Bigha</option>
                                            <option value="Hectare">Hectare</option>
                                            <option value="Marla">Marla</option>
                                            <option value="Kanal">Kanal</option>
                                            <option value="Biswa1">Biswa1</option>
                                            <option value="Biswa2">Biswa2</option>
                                            <option value="Ground">Ground</option>
                                            <option value="Aankadam">Aankadam</option>
                                            <option value="Rood">Rood</option>
                                            <option value="Chatak">Chatak</option>
                                            <option value="Kottah">Kottah</option>
                                            <option value="Marla">Marla</option>
                                            <option value="Cent">Cent</option>
                                            <option value="Perch">Perch</option>
                                            <option value="Guntha">Guntha</option>
                                            <option value="Are">Are</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="contentwrap apartment plot villa">
                                    <div class="label apartment villa">
                                        Super Area <span class="req">*</span>
                                    </div>
                                    <div class="label plot">
                                        Price/Sq.Ft. <span class="req">*</span>
                                    </div>
                                    <div class = "locationinput carpetAreaType shortinputbar">
                                        <b> Previous Price/sqft-</b>   
                                        <input type="text" id="id_super_area" class="cidrop-input" name="super_area" value="{{ property.super_area }}" readonly style="border-bottom:none;"> <br>
                                        <input type="number" placeholder="Super area" step="0.01"
                                             id="my_super_area" class="cidrop-input" value="">
                                        <select id="superAreaType" class="cidrop-input">
                                            <option value="Sq-ft">Sq-ft</option>
                                            <option value="Sq-yrd">Sq-yrd</option>
                                            <option value="Sq-m">Sq-m</option>
                                            <option value="Acre">Acre</option>
                                            <option value="Bigha">Bigha</option>
                                            <option value="Hectare">Hectare</option>
                                            <option value="Marla">Marla</option>
                                            <option value="Kanal">Kanal</option>
                                            <option value="Biswa1">Biswa1</option>
                                            <option value="Biswa2">Biswa2</option>
                                            <option value="Ground">Ground</option>
                                            <option value="Aankadam">Aankadam</option>
                                            <option value="Rood">Rood</option>
                                            <option value="Chatak">Chatak</option>
                                            <option value="Kottah">Kottah</option>
                                            <option value="Marla">Marla</option>
                                            <option value="Cent">Cent</option>
                                            <option value="Perch">Perch</option>
                                            <option value="Guntha">Guntha</option>
                                            <option value="Are">Are</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="contentwrap apartment plot villa">
                                    <div class="label apartment villa">
                                        Developement Area<span class="req">*</span>
                                    </div>
                                    <div class="label plot">
                                        Total Area<span class="req">*</span>
                                    </div>
                                    <div  class="locationinput carpetAreaType shortinputbar">
                                        <b> Previous Total Area-</b>   <input type="text"  class="cidrop-input" id="id_development_area"  name="development_area" value="{{ property.development_area }}" readonly style="border-bottom:none;"> <br>
                                        <input type="number" placeholder="Developement area"  step="0.01"
                                        id="my_development_area" class="cidrop-input" value="">
                                        <select id="devAreaType" class="cidrop-input">
                                            <option value="Sq-ft">Sq-ft</option>
                                            <option value="Sq-yrd">Sq-yrd</option>
                                            <option value="Sq-m">Sq-m</option>
                                            <option value="Acre">Acre</option>
                                            <option value="Bigha">Bigha</option>
                                            <option value="Hectare">Hectare</option>
                                            <option value="Marla">Marla</option>
                                            <option value="Kanal">Kanal</option>
                                            <option value="Biswa1">Biswa1</option>
                                            <option value="Biswa2">Biswa2</option>
                                            <option value="Ground">Ground</option>
                                            <option value="Aankadam">Aankadam</option>
                                            <option value="Rood">Rood</option>
                                            <option value="Chatak">Chatak</option>
                                            <option value="Kottah">Kottah</option>
                                            <option value="Marla">Marla</option>
                                            <option value="Cent">Cent</option>
                                            <option value="Perch">Perch</option>
                                            <option value="Guntha">Guntha</option>
                                            <option value="Are">Are</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <!-- Property Availability -->
                            <div class="datablock">
                                <div class="sub-heading-submit">
                                    <h5> Transaction Type, Property Availability</h5>
                                </div>
                                <div class="row">
                                    <div class="col-lg-6 apartment villa">    
                                    <div class="contentwrap">
                                        <div class="label">
                                            Age of Construction
                                        </div>
                                        <div class="cityinput">
                                            <input type="text" placeholder="In months or Years" name="age_of_construction"
                                             maxlength="100" id="id_age_of_construction"  value="{{ property.age_of_construction }}" class="cidrop-input">
                                        </div>
                                    </div>
                                    </div>

                                    <div class="col-lg-6 apartment villa plot">    
                                        <div class="contentwrap">
                                            <div class="label">
                                                Possession Date
                                            </div>
                                            <div class="cityinput">
                                                <input type="date" name="possession_date" id="id_possession_date" value="{{ property.possession_date|date:'Y-m-d' }}" class="cidrop-input">
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-6 apartment villa plot">    
                                        <div class="contentwrap">
                                            <div class="label">
                                                Project Rera Id
                                            </div>
                                            <div class="cityinput">
                                                    <input type="text" placeholder="Rera Id" name="project_rera_id" maxlength="100"
                                                    id="id_project_rera_id"  value="{{ property.project_rera_id }}" class="cidrop-input">
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-6 apartment villa">    
                                        <div class="contentwrap">
                                            <div class="label">
                                                Builder Name
                                            </div>
                                            <div class="cityinput">
                                                    <input type="text" placeholder="Builder name" name="builder_name" maxlength="100"
                                                     id="id_builder_name"  value="{{ property.builder_name }}" class="cidrop-input">
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="col-lg-6 apartment villa plot">    
                                        <div class="contentwrap">
                                            <div class="label">
                                                Approval Status
                                            </div>
                                            <div class="cityinput">
                                                <select name="approval_status" id="id_approval_status" class="cidrop-input">
                                                    <option value="others" {% if property.approval_status == 'others' %} selected {% endif %}>Others</option>
                                                    <option value="BBMP" {% if property.approval_status == 'BBMP' %} selected {% endif %}>BBMP Approved</option>
                                                    <option value="DTCP" {% if property.approval_status == 'DTCP' %} selected {% endif %}>DTCP Approved</option>
                                                    <option value="reraapproved" {% if property.approval_status == 'reraapproved' %} selected {% endif %}>RERA Approved</option>
                                                    <option value="bda_bmrda" {% if property.approval_status == 'bda_bmrda' %} selected {% endif %}>BDA/BMRDA Approved</option>
                                                    <option value="notapproved" {% if property.approval_status == 'notapproved' %} selected {% endif %}>Not Approved</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Price Details -->
                            <div class="datablock">
                                <div class="sub-heading-submit">
                                    <h5>Price Details And Address</h5>
                                </div>

                                <div class="contentwrap Pricingdets apartment plot">
                                    <div class="label">
                                        Expected Price <span class="req">*</span>
                                    </div>
                                    <div class="cityinput">
                                            <input type="text" placeholder="Pricing" name="property_price" maxlength="30" required
                                            id="id_property_price"  value="{{ property.property_price }}" class="cidrop-input">
                                            <input type="checkbox" id="negotiable-checkbox" disabled>
                                            <label for="negotiable-checkbox" id="labelprice">Is Price Negotiable</label>
                                    </div>
                                </div> 

                                <div class="contentwrap">
                                    <div class="label">
                                        Address <span class="req">*</span>
                                    </div>
                                    <div class="cityinput">
                                        <input type="text" placeholder="Address & Pincode" name="address"
                                            maxlength="255" required id="id_address" class="cidrop-input" value="{{ property.address }}">
                                    </div>
                                </div>

                                <div class="contentwrap apartment plot villa">
                                    <div class="label apartment villa">
                                        About Project
                                    </div>
                                    <div class="label plot">
                                        Amenities
                                    </div>
                                    <div class="cityinput">
                                        <textarea name="about_project" placeholder="Describe in detail" maxlength="300"
                                            id="id_about_project" class="cidrop-input">{{ property.about_project }}</textarea>
                                    </div>
                                </div>

                            </div>

                            <!-- images section -->
                            <div class="datablock">

                                <div class="sub-heading-submit">
                                    <h5>Images</h5>
                                </div>

                                <div class="cover-image-contentwrap">
                                    <div class="cover-image-label">
                                        Cover Image <span class="cover-image-req">*</span>
                                    </div>
                                    <div class="cover-image-locationinput">
                                        {% if property.get_cover_img_url %}
                                            <img src="{{ property.get_cover_img_url }}" alt="Current Image" class="cover-image-img">
                                        {% else %}
                                            <!-- Display a placeholder image or a message when no image is present -->
                                            <span class="cover-image-placeholder">No cover image available</span>
                                        {% endif %}
                                        <input type="file" name="project_cover_img" accept="image/*" id="id_project_cover_img" class="cover-image-input">
                                    </div>
                                </div>
                                <div id="property-edit-container">
                                    {{ formset.management_form }}
                                    <div id="existing-images">
                                        <h3>Gallery Images</h3>
                                        {% for form in formset %}
                                            <div class="property-image-field image-field{% if not form.instance.image %} hidden{% endif %}">
                                                <div class="property-image-label">Image No-{{ forloop.counter }}</div>
                                                <div class="property-locationinput">
                                                    <div class="col-lg-3 property-image-display">
                                                        {% if form.instance.image %}
                                                            <img src="{{ form.instance.image.url }}" alt="Current Image" id="id_images-{{ forloop.counter0 }}-image_display">
                                                        {% else %}
                                                            <span>No image available</span>
                                                        {% endif %}
                                                    </div>
                                                    <div class="col-lg-9 property-inputs">
                                                        {{ form.image_type }} <br>
                                                        {{ form.image }} <br>
                                                        <label for="id_images-{{ forloop.counter0 }}-DELETE" class="property-delete-label">Delete</label>
                                                        {{ form.DELETE }} <br>
                                                        {{ form.id }}
                                                    </div>
                                                </div>
                                            </div>
                                        {% endfor %}
                                    </div>
                                    <div id="new-images"></div>
                                    <button type="button" id="property-add-image-button">Add Image</button>
                                    <p id="image-limit-message" class="hidden" style="color: red;">You have reached your image limit.</p>
                                </div>
                            </div>
                            <!-- submit section  -->
                            <div class="datablock mt-4">
                                <button type="submit" class="submitproperty" id="submit_buttonid">Submit</button>
                            </div>

                        </div>
                    </form>
                 </div>

                <div class="col-lg-5" id="rightsubmit-dets">
                    <div class="rightsubmitimg">
                        <img src="https://static.searchhomesindia.com/images/pp-2.png" alt="propertyimage" style="width: 100%; height: 100%;">
                    </div>
                </div>

            </div>
        </div>
    </div>
    <!-- <script src="{% static 'js/newsubmit.js' %}"></script> -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
        const selectElement = document.getElementById('id_apartment_type');
        showHideFields(selectElement.value);

        selectElement.addEventListener('change', function(event) {
            showHideFields(event.target.value);
        });

        var form = document.getElementById('submit_propertyid');
        var submitButton = document.getElementById('submit_buttonid');

        if (form && submitButton) { // Check if form and submit button exist
            submitButton.addEventListener('click', function(event) {
                event.preventDefault();

                var requiredInputs = form.querySelectorAll('input[required], select[required], textarea[required], input[type="file"][required]');
                var isValid = true;
                var firstEmptyInput = null;

                requiredInputs.forEach(function(input) {
                    if (isVisible(input) && !input.value.trim()) {
                        if (!firstEmptyInput) {
                            firstEmptyInput = input;
                        }
                        if (!input.classList.contains('required-error')) {
                            input.classList.add('required-error');
                            input.style.borderBottom = '1px solid red';
                            input.style.borderTop = 'none';
                            input.style.borderRight = 'none';
                            input.style.borderLeft = 'none';
                            input.insertAdjacentHTML('afterend', '<span class="error-message" style="color: red;">(This field is required)</span>');
                        }
                        isValid = false;
                    } else {
                        if (input.classList.contains('required-error')) {
                            input.classList.remove('required-error');
                            input.style.border = '';
                            var errorMessage = input.nextElementSibling;
                            if (errorMessage && errorMessage.classList.contains('error-message')) {
                                errorMessage.remove();
                            }
                        }
                    }
                });

                if (!isValid) {
                    if (firstEmptyInput) {
                        firstEmptyInput.focus(); // Focus on the first empty required input field
                        firstEmptyInput.scrollIntoView({ behavior: 'smooth', block: 'start' }); // Scroll to the first empty required input field
                    }
                } else {
                    form.submit();
                }
            });
        }
    });

    function showHideFields(apartmentType) {
        const villaFields = document.querySelectorAll('.villa');
        const plotFields = document.querySelectorAll('.plot');
        const apartmentFields = document.querySelectorAll('.apartment');

        hideFields(villaFields);
        hideFields(plotFields);
        hideFields(apartmentFields);

        switch(apartmentType) {
            case 'villa':
                showFields(villaFields);
                break;
            case 'plot':
                showFields(plotFields);
                break;
            case 'apartment':
                showFields(apartmentFields);
                break;
            default:
                console.error("Unknown apartment type: " + apartmentType);
        }
    }

    function hideFields(fields) {
        fields.forEach(field => {
            field.classList.add('hidden');
        });
    }

    function showFields(fields) {
        fields.forEach(field => {
            field.classList.remove('hidden');
        });
    }

    function isVisible(element) {
        return !!(element.offsetWidth || element.offsetHeight || element.getClientRects().length);
    }
    </script>
<script>
    var totalPriceInput = document.getElementById('id_property_price');
    var negotiableCheckbox = document.getElementById('negotiable-checkbox');
    var labelprice = document.getElementById('labelprice');

    totalPriceInput.addEventListener('input', function() {
        if (totalPriceInput.value.trim() !== '') {
            negotiableCheckbox.disabled = false;
            labelprice.style.color="black";
        } else {
            negotiableCheckbox.disabled = true;
            labelprice.style.color="";
        }
    });
</script>

<script>
    function updateHiddenInput(){var e=document.getElementById("my_carpet_area").value,t=document.getElementById("carpetAreaType").value;document.getElementById("id_carpet_area").value=e+" "+t}document.getElementById("my_carpet_area").addEventListener("input",updateHiddenInput),document.getElementById("carpetAreaType").addEventListener("change",updateHiddenInput);
</script>
<script>
   function updateHiddenInput(){var e=document.getElementById("my_super_area").value,t=document.getElementById("superAreaType").value;document.getElementById("id_super_area").value=e+" "+t}document.getElementById("my_super_area").addEventListener("input",updateHiddenInput),document.getElementById("superAreaType").addEventListener("change",updateHiddenInput);
</script>
<script>
    function updateHiddenInput(){var e=document.getElementById("my_development_area").value,t=document.getElementById("devAreaType").value;document.getElementById("id_development_area").value=e+" "+t}document.getElementById("my_development_area").addEventListener("input",updateHiddenInput),document.getElementById("devAreaType").addEventListener("change",updateHiddenInput);
</script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
    let formsetPrefix = '{{ formset.prefix }}';
    let totalForms = parseInt('{{ formset.total_form_count }}', 10);
    let maxForms = 5;
    let existingImageCount = document.querySelectorAll('#existing-images .image-field:not(.hidden)').length;
    let emptyForm = '{{ formset.empty_form.as_p|escapejs }}';
    let newImageCount = 0;

    function updateAddButtonVisibility() {
        let visibleImageCount = document.querySelectorAll('.image-field:not(.hidden)').length + newImageCount;
        let addButton = document.getElementById('property-add-image-button');
        let limitMessage = document.getElementById('image-limit-message');

        console.log("Visible image count: ", visibleImageCount);  // Debugging log

        if (visibleImageCount >= maxForms) {
            addButton.classList.add('hidden');
            limitMessage.classList.remove('hidden');
        } else {
            addButton.classList.remove('hidden');
            limitMessage.classList.add('hidden');
        }
    }

    document.getElementById('property-add-image-button').addEventListener('click', function() {
        let nextHiddenField = document.querySelector('#existing-images .image-field.hidden');
        if (nextHiddenField) {
            nextHiddenField.classList.remove('hidden');
        } else {
            if (newImageCount < maxForms - totalForms) {
                let newFormHtml = emptyForm.replace(/__prefix__/g, totalForms + newImageCount);
                let div = document.createElement('div');
                div.innerHTML = newFormHtml;
                div.classList.add('property-image-field', 'mt-4');
                document.getElementById('new-images').appendChild(div);
                newImageCount++;
            }
        }
        updateAddButtonVisibility();
    });

    updateAddButtonVisibility();
});
</script>
<!-- 
<script>
    document.addEventListener('DOMContentLoaded', function() {
    document.getElementById('id_apartment_type').addEventListener('change', function(event) {
            showHideFields(event.target.value);
        });
    });

    function showHideFields(apartmentType) {
        const villaFields = document.querySelectorAll('.villa');
        const plotFields = document.querySelectorAll('.plot');
        const bhkFields = document.querySelectorAll('.apartment');

        hideFields(villaFields);
        hideFields(plotFields);
        hideFields(bhkFields);

        switch(apartmentType) {
            case 'villa':
                showFields(villaFields);
                // console.log("Villa fields shown");
                break;
            case 'plot':
                showFields(plotFields);
                // console.log("Plot fields shown");
                break;
            case 'apartment':
                showFields(bhkFields);
                // console.log("Apartment fields shown");
                break;
            default:
                // console.error("Unknown apartment type: " + apartmentType);
        }
    }

    function hideFields(fields) {
        fields.forEach(field => {
            field.classList.add('hidden');
        });
    }

    function showFields(fields) {
        fields.forEach(field => {
            field.classList.remove('hidden');
        });
    }
</script> -->
{% endblock %}