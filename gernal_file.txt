<div class="modal" tabindex="-1" role="dialog" id="statusPopup">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
          <h5 class="modal-title">Modal title</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
      <div class="modal-body">
      <label for="statusSelect">Select Status:</label>
      <select id="statusSelect">
        <option value="Received">Received</option>
        <option value="Cancelled">Cancelled</option>
        <option value="Processing">Processing</option>
        <option value="Pending">Pending</option>
      </select>
    </div>
      <div class="modal-footer">
        <div class="col-lg-12 text-center">
      <button id="saveStatus" class="btn btn-primary">Save</button>
      </div>
    </div>
    </div>
  </div>
  </div>
 
 <table id="example" class="stripe row-border order-column display" cellspacing="0" style="width:100%">
            <thead>
              <tr>
                <th>Name</th>
                <th>Company name</th>
                <th>Email</th>
                <th>Phone</th>
                <th>services</th>
                <th>Message</th>
                <th>Status</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Pratham</td>
                <td>Search homes india</td>
                <td>abc@gmail.com</td>
                <td>1122334455</td>
                <td>TDS notice</td>
                <td>Lorem ipsum dolor sit amet consectetur adipisicing elit</td>
                <td class="cfostatus">
                <span class="Processing">Processing</span>

              </td>
                <td>
                  <button class="cfoedit">Edit</button>
                  <button class="cfodelete">Delete</button>
                </td>
              </tr>
            </tbody>
            
            <tfoot>
              <tr>
                <td>Name</td>
                <td>Company name</td>
                <td>Email</td>
                <td>Phone</td>
                <td>services</td>
                <td>Message</td>
                <td>Status</td>
                <td>Action</td>
              </tr>
            </tfoot>
          </table>
<script>
const modal = document.getElementById("statusPopup");
const closeModal = document.querySelector(".modal .close");
const saveButton = document.getElementById("saveStatus");
const statusSelect = document.getElementById("statusSelect");

let currentRow;

document.querySelectorAll(".cfoedit").forEach(button => {
  button.addEventListener("click", (event) => {
    currentRow = event.target.closest("tr");
    modal.style.display = "block";
    const currentStatus = currentRow.querySelector(".cfostatus span").textContent.trim();
    statusSelect.value = currentStatus;
  });
});

saveButton.addEventListener("click", () => {
  const newStatus = statusSelect.value;
  const statusCell = currentRow.querySelector(".cfostatus span");
  statusCell.textContent = newStatus;

  statusCell.className = newStatus;
  statusCell.style.color = getStatusColor(newStatus);

  modal.style.display = "none";
});

closeModal.addEventListener("click", () => {
  modal.style.display = "none";
});

window.addEventListener("click", (event) => {
  if (event.target === modal) {
    modal.style.display = "none";
  }
});

function getStatusColor(status) {
  switch (status) {
    case 'Received':
      return 'green';
    case 'Cancelled':
      return 'red';
    case 'Processing':
      return 'orange';
    case 'Pending':
      return 'yellowgreen';
    default:
      return 'black';
  }
}
</script>