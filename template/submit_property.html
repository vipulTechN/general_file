{% extends "base(Home).html" %}
{% load static %}
{% block head_block %}
<link rel="stylesheet" href="{% static 'css/SellerDetMain2.css' %}">
<style>
    #header1 {top: 0px!important;}
    .insidecontain{margin-top: 65px;}
    .active, .btnsss:hover {
    background: transparent!important;
    }
</style>
{% endblock %}
{% block body_block %}

<div class="maincontent">
    <div class="col-lg-12" style="width: 100%; position: fixed; background-color: #fff!important;z-index: 999; left: 0px;">
        <div class="progress-bar mx-auto">
            <div class="progresstop">
                <div class="title">
                    Progress bar
                </div>
            </div>
            <div class="progressbottom">

                <div class="step">
                    <p class="progresp">
                        Basic Details
                    </p>
                    <div class="bullet progres1">
                        <span>1</span>
                    </div>
                    <div class="check"></div>
                </div>
                <div class="step">
                    <p>
                        Essential Detail
                    </p>
                    <div class="bullet">
                        <span>2</span>
                    </div>
                    <div class="check"></div>
                </div>
                <div class="step">
                    <p>
                        Images
                    </p>
                    <div class="bullet">
                        <span>3</span>
                    </div>
                    <div class="check"></div>
                </div>
                <div class="step">
                    <p>
                        Submit
                    </p>
                    <div class="bullet">
                        <span>4</span>
                    </div>
                    <div class="check"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="container" style="background-size:100%; background-repeat: no-repeat;">
        <div class="row">
            <div class="col-lg-12" style="margin-top: 150px;">
      
    <div class="rightprogress mx-auto">
        <div class="form-outer">
            <form method="post" enctype="multipart/form-data" id="submit_propertyid">
                {% csrf_token %}
                <div class="page slide-page" id="page1dets">
                    <div class="titlee">
                        Basic Details
                    </div>
                    <div class="field">
                        <div class="label">
                            I am <span class="req">*</span>
                        </div>
                        <label for="id_u_property_type_1"> Owner</label>
                        <input type="radio" name="u_property_type" value="owner" required id="id_u_property_type_1"
                            class="iamradio" checked>
                        <label for="id_u_property_type_2" id="fielabs">Agent</label>
                        <input type="radio" name="u_property_type" value="agent" required id="id_u_property_type_2"
                            class="iamradio">
                        <label for="id_u_property_type_3" id="fielabs">Builder</label>
                        <input type="radio" name="u_property_type" value="builder" required
                            id="id_u_property_type_3" class="iamradio">

                    </div>
                    <div class="field">
                        <div class="label">
                            Here to <span class="req">*</span>
                        </div>
                        <label for="sell">Sell</label>
                        <input type="radio" name="hereto" value="sell" required class="iamradio" checked>
                        <label for="Rent/Lease" id="fielabs">Rent/Lease</label>
                        <input type="radio" name="hereto" value="Rent/Lease" required class="iamradio" style="cursor: no-drop;" disabled>
                        <label for="Pg/Colive" id="fielabs">Pg/Co-live</label>
                        <input type="radio" name="hereto" value="Pg/Colive" required class="iamradio" style="cursor: no-drop;" disabled>
                    </div>
                    <div class="field">
                        <div class="label">
                            Enter City <span class="req">*</span>
                        </div>
                        <select name="project_city" id="id_project_city" required>

                            <option value="">Select City</option>

                            <option value="bengaluru">Bengaluru</option>

                            <option value="chennai">Chennai</option>

                            <option value="mumbai">Mumbai</option>

                            <option value="hyderabad">Hyderabad</option>

                            <option value="delhi">Delhi</option>

                            <option value="pune">Pune</option>


                        </select>
                    </div>

                    <div class="field">
                        <div class="label">
                            Enter Locality <span class="req">*</span>
                        </div>
                        <input type="text" placeholder="Enter Locality" name="landmark" maxlength="100" id="id_landmark" required>
                    </div>

                    <div class="field">
                        <div class="label">
                            Project/Society Name <span class="req">*</span>
                        </div>
                        <input type="text" placeholder="Property Name.." name="project_society_name" maxlength="100"
                            required id="id_project_society_name">
                    </div>

                    <div class="field">
                        <div class="label">
                            Property Type <span class="req">*</span>
                        </div>
                        <select name="apartment_type" required id="id_apartment_type">

                            <option value="" selected>Select Type</option>

                            <option value="villa">Villa</option>

                            <option value="plot">Plot</option>

                            <option value="1bhk">1 BHK</option>

                            <option value="2bhk">2 BHK</option>

                            <option value="3bhk">3 BHK</option>

                            <option value="4bhk">4 BHK</option>

                            <option value="5bhk">5 BHK</option>


                        </select>
                    </div>

                    <div class="field">
                        <div class="label">
                            Status Type <span class="req">*</span>
                        </div>
                        <select name="status" required id="id_status">

                            <option value="" selected>Select Type</option>

                            <option value="ongoing">Ongoing</option>

                            <option value="readytomove">Ready To Move</option>

                            <option value="upcoming">UpComing</option>

                        </select>
                    </div>

                    <div class="field">
                        <div class="label">
                            SBA/ Plot Area(Sqft) <span class="req">*</span>
                        </div>
                        <input type="number" placeholder="Super area" name="super_area" step="0.01" required
                            id="id_super_area">
                    </div>

                    <div class="field">
                        <div class="label">
                            Carpet Area/ Plot Area(Sqft) <span class="req">*</span>
                        </div>
                        <input type="number" placeholder="Carpet area" name="carpet_area" step="0.01" 
                            id="id_carpet_area" required>
                    </div>

                    <div class="field">
                        <div class="label">
                            Developement Area (Acre) <span class="req">*</span>
                        </div>

                        <input type="number" placeholder="Developement area" name="development_area" step="0.01"
                            id="id_development_area" required>
                    </div>

                    <div class="field">
                        <div class="label">
                            Furnished Status <span class="req">*</span>
                        </div>
                        <select name="furnished_status" required id="id_furnished_status">

                            <option value="" selected>Select Type</option>

                            <option value="furnished">Furnished</option>

                            <option value="semi-furnished">Semi-Furnished</option>

                            <option value="unfurnished">Unfurnished</option>

                        </select>
                    </div>

                    <div class="field">
                        <div class="label">
                            Approval Status
                        </div>
                        <select name="approval_status" id="id_approval_status" required>
                            <option value="" selected>Select Type</option>
                            <option value="others">Others</option>
                            <option value="reraapproved">RERA Approved</option>
                            <option value="bda_bmrda">BDA/BMRDA Approved</option>
                            <option value="notapproved">Not Approved</option>
                        </select>
                    </div>

                    <div class="field">
                        <div class="label">
                            Project Rera Id
                        </div>

                        <input type="text" placeholder="Rera Id" name="project_rera_id" maxlength="100"
                            id="id_project_rera_id">
                    </div>

                    <div class="field">
                        <div class="label">
                            Possession Date
                        </div>

                        <input type="date" name="possession_date" id="id_possession_date">
                    </div>

                    <div class="field">
                        <div class="label">
                            Builder Name
                        </div>

                        <input type="text" placeholder="Builder name" name="builder_name" maxlength="100"
                            id="id_builder_name">
                    </div>

                    <div class="field">
                        <div class="label">
                            Age of Construction
                        </div>
                        <input type="text" placeholder="In months or Years" name="age_of_construction"
                            maxlength="100" id="id_age_of_construction">
                    </div>

                    <div class="field">
                        <a href="#page2dets"><button type="button" class="firstNext next"
                                id="page1next">Next</button></a>
                    </div>


                </div>
                <div class="page" id="page2dets" style="display: none;"><br><br><br><br><br><br>
                    <div class="titlee">
                        Essential Details:
                    </div>
                    <div class="field">
                        <div class="label">
                            Total Floors <span class="req">*</span>
                        </div>

                        <input type="number" placeholder="Total floors" name="total_floors" min="0" 
                            id="id_total_floors" required>
                    </div>
                    <div class="field">
                        <div class="label">
                            Total Units <span class="req">*</span>
                        </div>

                        <input type="number" placeholder="Total units" name="total_units" min="0" 
                            id="id_total_units" required>
                    </div>

                    <div class="field">
                        <div class="label">
                            Floor Number <span class="req">*</span>
                        </div>

                        <input type="number" placeholder="Floor Number" name="floor_number" min="0" required
                            id="id_floor_number">
                    </div>

                    <div class="field">
                        <div class="label">
                            No. of Towers <span class="req">*</span>
                        </div>

                        <input type="number" placeholder="No of Towers" name="no_of_tower" min="0"
                            id="id_no_of_tower" required>
                    </div>

                    <div class="field">
                        <div class="label">
                            Balconies <span class="req">*</span>
                        </div>
                        <select name="balconies" id="id_balconies" required>

                            <option value="" selected>Select Type</option>

                            <option value="1">1</option>

                            <option value="2">2</option>

                            <option value="3">3</option>

                            <option value="4">4</option>

                            <option value="5">5</option>

                            <option value="0">Others</option>

                            <option value="-1">N/A</option>

                        </select>
                    </div>

                    <div class="field">
                        <div class="label">
                            Bedrooms <span class="req">*</span>
                        </div>
                        <select name="bedrooms" id="id_bedrooms" required>

                            <option value="" selected>Select Type</option>

                            <option value="1">1</option>

                            <option value="2">2</option>

                            <option value="3">3</option>

                            <option value="4">4</option>

                            <option value="5">5</option>

                            <option value="0">Others</option>

                            <option value="-1">N/A</option>

                        </select>
                    </div>

                    <div class="field">
                        <div class="label">
                            Bathrooms <span class="req">*</span>
                        </div>
                        <select name="bathrooms" id="id_bathrooms" required>

                            <option value="" selected>Select Type</option>

                            <option value="1">1</option>

                            <option value="2">2</option>

                            <option value="3">3</option>

                            <option value="4">4</option>

                            <option value="5">5</option>

                            <option value="0">Others</option>

                            <option value="-1">N/A</option>

                        </select>
                    </div>

                    <div class="field">
                        <div class="label">
                            Lifts <span class="req">*</span>
                        </div>
                        <select name="lifts" id="id_lifts" required>

                            <option value="" selected>Select</option>

                            <option value="yes">YES</option>

                            <option value="no">No</option>

                        </select>
                    </div>

                    <div class="field">
                        <div class="label">
                            Property Pricing <span class="req">*</span>
                        </div>

                        <input type="text" placeholder="Pricing" name="property_price" maxlength="30" required
                            id="id_property_price">
                    </div>

                    <div class="field">
                        <div class="label">
                            Facing
                        </div>
                        <input type="text" placeholder="facing" name="facing" maxlength="30" id="id_facing">
                    </div>

                    <div class="field">
                        <div class="label">
                            Parking <span class="req">*</span>
                        </div>
                        <select name="car_parking" required id="id_car_parking">

                            <option value="" selected>Select</option>

                            <option value="yes">YES</option>

                            <option value="no">No</option>

                        </select>
                    </div>

                    <div class="field">
                        <div class="label">
                            Address <span class="req">*</span>
                        </div>
                        <input type="text" placeholder="Address & Pincode" name="address" maxlength="255" required
                            id="id_address">
                    </div>

                    <div class="field">
                        <div class="label">
                            About Project <span class="req">*</span>
                        </div>
                        <textarea name="about_project" placeholder="Describe in detail" maxlength="300"
                            id="id_about_project" style="font-size: 15px;height: 50px;"></textarea>
                    </div>

                    <div class="field btns">
                        <a href="#page1dets"> <button type="button" class="prev-1 prev"
                                id="page2prev">Previous</button> </a>
                        <a href="#page3dets"> <button type="button" class="next-1 next" id="page2next">Next</button>
                        </a>
                    </div>
                </div>
        
                <div class="page" id="page3dets" style="display: none;"><br><br><br><br><br><br>
                    
                    <div class="titlee">
                        For Better Response Uploads Images
                    </div>
                    <div class="field">
                        <div class="label">
                            Cover Image <span class="req">*</span>
                        </div>
                        <input type="file" name="project_cover_img" accept="image/*" id="id_project_cover_img">
                    </div>
                    
                    <div class="field" id="imgfields">
                        <div class="label">
                            Image No.1 
                            <input type="hidden" name="images-TOTAL_FORMS" value="5"
                                id="id_images-TOTAL_FORMS"><input type="hidden" name="images-INITIAL_FORMS"
                                value="0" id="id_images-INITIAL_FORMS"><input type="hidden"
                                name="images-MIN_NUM_FORMS" value="0" id="id_images-MIN_NUM_FORMS"><input
                                type="hidden" name="images-MAX_NUM_FORMS" value="5" id="id_images-MAX_NUM_FORMS">
                        </div>
                        <ul class="imgno1">
                            <li class="img01flex1">
                                <select name="images-0-image_type" id="id_images-0-image_type">
                                    <option value="property">Property Image</option>

                                    <option value="floorplan">Floorplan Image</option>

                                    <option value="masterplan">Masterplan Image</option>

                                    <option value="location">Location Map Image</option>

                                    <option value="plot">Plot Image</option>

                                    <option value="1bhk">1 BHK Image</option>

                                    <option value="2bhk">2 BHK Image</option>

                                    <option value="3bhk">3 BHK Image</option>

                                    <option value="4bhk">4 BHK Image</option>

                                    <option value="5bhk">5 BHK Image</option>

                                </select>
                                <input type="file" name="images-0-image" accept="image/*" id="id_images-0-image">
                            </li>
                            <li class="img01flex2">
                                <label for="id_images-0-DELETE">Delete:</label>
                                <input type="checkbox" name="images-0-DELETE" id="id_images-0-DELETE"><input
                                    type="hidden" name="images-0-id" id="id_images-0-id"><input type="hidden"
                                    name="images-0-property_post" id="id_images-0-property_post">
                            </li>
                        </ul>
                    </div>

                    <div class="field" id="imgfields">
                        <div class="label">
                            Image No.2 
                        </div>
                        <ul class="imgno1">
                            <li class="img01flex1">
                                <select name="images-1-image_type" id="id_images-1-image_type">
                                    <option value="property">Property Image</option>

                                    <option value="floorplan">Floorplan Image</option>

                                    <option value="masterplan">Masterplan Image</option>

                                    <option value="location">Location Map Image</option>

                                    <option value="plot">Plot Image</option>

                                    <option value="1bhk">1 BHK Image</option>

                                    <option value="2bhk">2 BHK Image</option>

                                    <option value="3bhk">3 BHK Image</option>

                                    <option value="4bhk">4 BHK Image</option>

                                    <option value="5bhk">5 BHK Image</option>

                                </select>
                                <input type="file" name="images-1-image" accept="image/*" id="id_images-1-image">
                            </li>
                            <li class="img01flex2">
                                <label for="id_images-1-DELETE">Delete:</label>
                                <input type="checkbox" name="images-1-DELETE" id="id_images-1-DELETE"><input
                                    type="hidden" name="images-1-id" id="id_images-1-id"><input type="hidden"
                                    name="images-1-property_post" id="id_images-1-property_post">
                            </li>
                        </ul>
                    </div>

                    <div class="field" id="imgfields">
                        <div class="label">
                            Image No.3 
                        </div>
                        <ul class="imgno1">
                            <li class="img01flex1">
                                <select name="images-2-image_type" id="id_images-2-image_type">
                                    <option value="property">Property Image</option>

                                    <option value="floorplan">Floorplan Image</option>

                                    <option value="masterplan">Masterplan Image</option>

                                    <option value="location">Location Map Image</option>

                                    <option value="plot">Plot Image</option>

                                    <option value="1bhk">1 BHK Image</option>

                                    <option value="2bhk">2 BHK Image</option>

                                    <option value="3bhk">3 BHK Image</option>

                                    <option value="4bhk">4 BHK Image</option>

                                    <option value="5bhk">5 BHK Image</option>

                                </select>
                                <input type="file" name="images-2-image" accept="image/*" id="id_images-2-image">
                            </li>
                            <li class="img01flex2">
                                <label for="id_images-2-DELETE">Delete:</label>
                                <input type="checkbox" name="images-2-DELETE" id="id_images-2-DELETE"><input
                                    type="hidden" name="images-2-id" id="id_images-2-id"><input type="hidden"
                                    name="images-2-property_post" id="id_images-2-property_post">
                            </li>
                        </ul>
                    </div>

                    <div class="field" id="imgfields">
                        <div class="label">
                            Image No.4 
                        </div>
                        <ul class="imgno1">
                            <li class="img01flex1">
                                <select name="images-3-image_type" id="id_images-3-image_type">
                                    <option value="property">Property Image</option>

                                    <option value="floorplan">Floorplan Image</option>

                                    <option value="masterplan">Masterplan Image</option>

                                    <option value="location">Location Map Image</option>

                                    <option value="plot">Plot Image</option>

                                    <option value="1bhk">1 BHK Image</option>

                                    <option value="2bhk">2 BHK Image</option>

                                    <option value="3bhk">3 BHK Image</option>

                                    <option value="4bhk">4 BHK Image</option>

                                    <option value="5bhk">5 BHK Image</option>

                                </select>
                                <input type="file" name="images-3-image" accept="image/*" id="id_images-3-image">
                            </li>
                            <li class="img01flex2">
                                <label for="id_images-3-DELETE">Delete:</label>
                                <input type="checkbox" name="images-3-DELETE" id="id_images-3-DELETE"><input
                                    type="hidden" name="images-3-id" id="id_images-3-id"><input type="hidden"
                                    name="images-3-property_post" id="id_images-3-property_post">
                            </li>
                        </ul>
                    </div>

                    <div class="field" id="imgfields">
                        <div class="label">
                            Image No.5 
                        </div>
                        <ul class="imgno1">
                            <li class="img01flex1">
                                <select name="images-4-image_type" id="id_images-4-image_type">
                                    <option value="property">Property Image</option>

                                    <option value="floorplan">Floorplan Image</option>

                                    <option value="masterplan">Masterplan Image</option>

                                    <option value="location">Location Map Image</option>

                                    <option value="plot">Plot Image</option>

                                    <option value="1bhk">1 BHK Image</option>

                                    <option value="2bhk">2 BHK Image</option>

                                    <option value="3bhk">3 BHK Image</option>

                                    <option value="4bhk">4 BHK Image</option>

                                    <option value="5bhk">5 BHK Image</option>

                                </select>
                                <input type="file" name="images-4-image" accept="image/*" id="id_images-4-image">
                            </li>
                            <li class="img01flex2">
                                <label for="id_images-4-DELETE">Delete:</label>
                                <input type="checkbox" name="images-4-DELETE" id="id_images-4-DELETE"><input
                                    type="hidden" name="images-4-id" id="id_images-4-id"><input type="hidden"
                                    name="images-4-property_post" id="id_images-4-property_post">
                            </li>
                        </ul>
                    </div>

                    <div class="field btns">
                        <a href="#page2dets"><button type="button" class="prev-2 prev"
                                id="page3prev">Previous</button></a>
                        <a href="#page4dets"><button type="button" class="next-2 next" id="page3next">Next</button>
                        </a>
                    </div>
                </div>

                <div class="page" id="page4dets" style="display: none;"><br><br>
                   
                    <div class="lastpagewrap">
                        <input type="checkbox" >
                        <label for="">Confirm and Submit</label>
                    </div>
                    <div class="field btns finalpage">
                        <a href="#page3dets">
                            <button type="button" class="prev-3 prev"id="page4prev">Previous</button>
                        </a>
                  <button type="submit" class="submit" id="submit_buttonid">Submit</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
     </div>
    </div>
  </div>

    <!-- Add jQuery -->
    <!-- <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> -->
    <script src="{% static 'js/SellerDetMain2.js' %}"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOMContentLoaded event fired');
            var form = document.getElementById('submit_propertyid');
            console.log('Form element selected:', form);
    
            var submitButton = document.getElementById('submit_buttonid');
            console.log('Submit button element selected:', submitButton);
    
            if (form && submitButton) { // Check if form and submit button exist
                submitButton.addEventListener('click', function(event) {
                    console.log('Submit button clicked');
                    event.preventDefault(); // Prevent default form submission
    
                    var requiredInputs = form.querySelectorAll('input[required], select[required], textarea[required], input[type="file"][required]');
                    console.log('Required inputs:', requiredInputs); // Check if required inputs are selected
    
                    var isValid = true;
                    console.log('Function Running');
    
                    var firstEmptyInput = null;
    
                    requiredInputs.forEach(function(input) {
                        if (!input.value.trim()) {
                            console.log('this works');
                            if (!firstEmptyInput) {
                                firstEmptyInput = input;
                            }
                            if (!input.classList.contains('required-error')) {
                                input.classList.add('required-error');
                                input.style.border = '1px solid red'; // Add red border to empty required fields
                                input.insertAdjacentHTML('afterend', '<span class="error-message" style="color: red;">(This field is required)</span>');
                            }
                            isValid = false;
                        } else {
                            if (input.classList.contains('required-error')) {
                                input.classList.remove('required-error');
                                input.style.border = ''; // Reset border for filled required fields
                                var errorMessage = input.nextElementSibling;
                                if (errorMessage && errorMessage.classList.contains('error-message')) {
                                    errorMessage.remove();
                                }
                            }
                        }
                    });
    
                    if (!isValid) {
                        console.log('Please fill out all required fields.');
                        if (firstEmptyInput) {
                            firstEmptyInput.focus(); // Focus on the first empty required input field
                            // Scroll to the first empty required input field
                            firstEmptyInput.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        }
                    } else {
                        form.submit(); // Submit the form if all fields are valid
                    }
                });
            } else {
                console.log('Form with ID "submit_propertyid" or submit button with ID "submit_button" not found.');
            }
        });
    </script>                 

{% endblock %}